(this.webpackJsonptodo_frontend=this.webpackJsonptodo_frontend||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(9),c=a.n(o),s=(a(25),a(10)),i=a(11),r=a(14),d=a(13),l=a(12),h=a(17),j=a(8),m=a(35),p=a(36),u=(a(26),a(1)),b=function(e){Object(r.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(s.a)(this,a);var o=new Date,c=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate();return(n=t.call(this,e)).handleDelete=function(e){fetch("https://djapitodo.herokuapp.com/tasks/".concat(e.id,"/"),{method:"DELETE",body:JSON.stringify(n.state),headers:{"content-type":"application/json"}}).then((function(){n.fetchData()}))},n.state={show:!1,todoList:[],activeItem:{id:null,title:"",description:"",completed:!1,startdate:c,enddate:c},editing:!1},n.fetchData=n.fetchData.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.getCookie=n.getCookie.bind(Object(j.a)(n)),n.startEdit=n.startEdit.bind(Object(j.a)(n)),n.handleDelete=n.handleDelete.bind(Object(j.a)(n)),n}return Object(i.a)(a,[{key:"setModal",value:function(){this.setState({show:!this.state.show})}},{key:"fetchData",value:function(){var e=this;fetch("https://djapitodo.herokuapp.com/tasks/").then((function(e){return e.json()})).then((function(t){e.setState({todoList:t})}))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"getCookie",value:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var o=a[n].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState({activeItem:Object(h.a)(Object(h.a)({},this.state.activeItem),{},Object(l.a)({},n,a))})}},{key:"handleSubmit",value:function(e){var t=this,a=this.getCookie("csrftoken");!0===this.state.editing?(fetch("https://djapitodo.herokuapp.com/tasks/".concat(this.state.activeItem.id,"/"),{method:"PUT",body:JSON.stringify(this.state.activeItem),headers:{"content-type":"application/json","X-CSRFToken":a}}),window.location.reload()):(fetch("https://djapitodo.herokuapp.com/tasks/",{method:"POST",body:JSON.stringify(this.state.activeItem),headers:{"content-type":"application/json","X-CSRFToken":a}}).then((function(){t.fetchData(),t.setState({activeItem:{id:null,title:"",completed:!1,description:"",startdate:"",enddate:""}})})),window.location.reload())}},{key:"startEdit",value:function(e){this.setState({activeItem:e,editing:!0,show:!0})}},{key:"render",value:function(){var e=this,t=this.state.todoList,a=this.state.show,n=[{primaryColor:"#5D93E1",secondaryColor:"#ECF3FC"},{primaryColor:"#5DC250",secondaryColor:"#F2FAF1"},{primaryColor:"#F9D288",secondaryColor:"#FEFAF1"},{primaryColor:"#F48687",secondaryColor:"#FDF1F1"},{primaryColor:"#B964F7",secondaryColor:"#F3F0FD"}];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"header text-center",children:[Object(u.jsx)("h3",{children:"Todo List"}),Object(u.jsx)("button",{className:"btn btn-primary mt-2  addtask",onClick:function(){return e.setModal()},children:"add task"})]}),Object(u.jsx)("div",{className:"task-container",children:t.map((function(t,a){return Object(u.jsxs)("div",{className:"card-wrapper mr-5",children:[Object(u.jsx)("div",{className:"card-top",style:{backgroundColor:n[a%5].primaryColor}}),Object(u.jsxs)("div",{className:"task-holder",children:[Object(u.jsx)("span",{className:"card-header titleheading",style:{backgroundColor:n[a%5].secondaryColor,borderRadius:"10px"},children:t.title}),Object(u.jsx)("p",{className:"descheading mt-1",children:t.description}),Object(u.jsx)("div",{style:{position:"absolute",left:"10px",bottom:"10px"},children:!1===t.completed?Object(u.jsxs)("i",{className:"fa fa-clock-o",style:{color:n[a%5].primaryColor,cursor:"pointer"},children:[" \xa0\xa0\xa0 ",t.startdate]}):Object(u.jsxs)("i",{className:"fa fa-check ",style:{color:n[a%5].primaryColor,cursor:"pointer"},children:["\xa0\xa0\xa0",t.enddate]})}),Object(u.jsxs)("div",{style:{position:"absolute",right:"10px",bottom:"10px"},children:[Object(u.jsx)("i",{onClick:function(){return e.startEdit(t)},className:"far fa-edit mr-3",style:{color:n[a%5].primaryColor,cursor:"pointer"}}),Object(u.jsx)("i",{onClick:function(){return e.handleDelete(t)},className:"fas fa-trash-alt",style:{color:n[a%5].primaryColor,cursor:"pointer"}})]})]})]},a)}))}),Object(u.jsxs)(m.a,{show:a,children:[Object(u.jsx)(m.a.Header,{children:Object(u.jsx)(m.a.Title,{children:"Create Task"})}),Object(u.jsxs)(m.a.Body,{children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Task Name"}),Object(u.jsx)("input",{onChange:this.handleChange,className:"form-control",value:this.state.activeItem.title,type:"text",name:"title",placeholder:"Add task.."})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Description"}),Object(u.jsx)("textarea",{onChange:this.handleChange,rows:"4",className:"form-control",value:this.state.activeItem.description,name:"description",placeholder:"Add Description"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Start Date \xa0\xa0:\xa0"}),Object(u.jsx)("input",{onChange:this.handleChange,type:"date",className:"form-control",value:this.state.activeItem.startdate,name:"startdate"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Date of Completion "}),Object(u.jsx)("input",{onChange:this.handleChange,type:"date",className:"form-control",value:this.state.activeItem.enddate,name:"enddate"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Completed \xa0\xa0\xa0 "}),Object(u.jsx)("input",{onChange:this.handleChange,type:"checkbox",checked:this.state.activeItem.completed,name:"completed"})]})]}),Object(u.jsxs)(m.a.Footer,{children:[Object(u.jsx)(p.a,{variant:"secondary",onClick:function(){return e.setModal()},children:"Cancel"}),Object(u.jsx)(p.a,{variant:"primary",onClick:function(){return e.handleSubmit()},children:"Add Task"})]})]})]})}}]),a}(n.Component),f=function(e){Object(r.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsx)(b,{})})}}]),a}(n.Component);a(31);c.a.render(Object(u.jsx)(f,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.0846cbad.chunk.js.map